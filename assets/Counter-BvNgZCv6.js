import{i as e,n as t,t as n}from"./jsx-runtime-BciZLH0X.js";import{r}from"./src-DpYKBPng.js";var i=e(t(),1),a=new Map,o=new WeakMap,s=0,c;function l(e){return e?o.has(e)?o.get(e):(s+=1,o.set(e,s.toString()),o.get(e)):`0`}function u(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t===`root`?l(e.root):e[t]}`).toString()}function d(e){let t=u(e),n=a.get(t);if(!n){let r=new Map,i,o=new IntersectionObserver(t=>{t.forEach(t=>{let n=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&t.isVisible===void 0&&(t.isVisible=n),[...r.get(t.target)??[]].forEach(e=>{e(n,t)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},a.set(t,n)}return n}function f(e,t,n={},r=c){if(window.IntersectionObserver===void 0&&r!==void 0){let i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold==`number`?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}let{id:i,observer:o,elements:s}=d(n),l=s.get(e)||[];return s.has(e)||s.set(e,l),l.push(t),o.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(s.delete(e),o.unobserve(e)),s.size===0&&(o.disconnect(),a.delete(i))}}function p({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:a,triggerOnce:o,skip:s,initialInView:c,fallbackInView:l,onChange:u}={}){let[d,p]=i.useState(null),m=i.useRef(u),h=i.useRef(c),[g,_]=i.useState({inView:!!c,entry:void 0});m.current=u,i.useEffect(()=>{if(h.current===void 0&&(h.current=c),s||!d)return;let i;return i=f(d,(e,t)=>{let n=h.current;h.current=e,!(n===void 0&&!e)&&(_({inView:e,entry:t}),m.current&&m.current(e,t),t.isIntersecting&&o&&i&&(i(),i=void 0))},{root:a,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,d,a,r,o,s,n,l,t]);let v=g.entry?.target,y=i.useRef(void 0);!d&&v&&!o&&!s&&y.current!==v&&(y.current=v,_({inView:!!c,entry:void 0}),h.current=c);let b=[p,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}(`useInsertionEffect`in i?i.useInsertionEffect:void 0)??i.useLayoutEffect??i.useEffect;var m=n();function h({value:e,decimals:t=0,prefix:n=``,suffix:a=``,inView:o,duration:s=2}){let c=(0,i.useRef)(null),l=(0,i.useRef)({val:0});return(0,i.useEffect)(()=>{o?r.to(l.current,{val:e,duration:s,ease:`power2.out`,onUpdate:()=>{c.current&&(c.current.innerText=`${n}${l.current.val.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t})}${a}`)}}):(l.current.val=0,c.current&&(c.current.innerText=`${n}${0 .toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t})}${a}`))},[o,e,t,n,a,s]),(0,m.jsx)(`span`,{ref:c})}export{p as n,h as t};